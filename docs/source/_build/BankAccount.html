<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bank Account &mdash; NovalandGuide 0.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Data Retrieval with Session Field variables" href="DataRetrievalwithSessionFieldValue.html" />
    <link rel="prev" title="Randomise Values for the participant" href="RandomiseValues.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> NovalandGuide
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="PyCharmOverview.html">PyCharmOverview</a></li>
<li class="toctree-l1"><a class="reference internal" href="CreateANewApp.html">Create a new app</a></li>
<li class="toctree-l1"><a class="reference internal" href="otreeProject.html">oTree Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="CreateANewPage.html">Create a new page</a></li>
<li class="toctree-l1"><a class="reference internal" href="BasicStructureOfAPage.html">Basic structure of the page</a></li>
<li class="toctree-l1"><a class="reference internal" href="Buttons.html">Buttons</a></li>
<li class="toctree-l1"><a class="reference internal" href="DynamicText.html">Dynamic Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="WaitPages.html">Wait Pages</a></li>
<li class="toctree-l1"><a class="reference internal" href="AddPictures.html">Add Pictures</a></li>
<li class="toctree-l1"><a class="reference internal" href="ModifyingHTML.html">Modifying HTML with JavaScript</a></li>
<li class="toctree-l1"><a class="reference internal" href="SendDataLive.html">Send Data with a live Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="RandomiseValues.html">Randomise Values for the participant</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Bank Account</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dynamic-income">Dynamic income</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#dynamic-decisions">Dynamic decisions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="DataRetrievalwithSessionFieldValue.html">Data Retrieval with Session Field variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="Election.html">Election</a></li>
<li class="toctree-l1"><a class="reference internal" href="Heroku.html">Heroku</a></li>
<li class="toctree-l1"><a class="reference internal" href="IndividualSettingsForTheSession.html">Individual settings for the session:</a></li>
<li class="toctree-l1"><a class="reference internal" href="DataCollection.html">Data Collection</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NovalandGuide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Bank Account</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/BankAccount.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="bank-account">
<h1>Bank Account<a class="headerlink" href="#bank-account" title="Permalink to this heading"></a></h1>
<p>In Novaland, the bank account is not stored in the usual way in oTree due to the fact that the various values from each phase or app are needed repeatedly to make other calculations.
To enable the bank account to be used in different phases, participants fields are used.</p>
<section id="dynamic-income">
<h2>Dynamic income<a class="headerlink" href="#dynamic-income" title="Permalink to this heading"></a></h2>
<p>The bank account is based on dynamic income, which is assigned to the participant at the beginning of the game.
Based on this, decisions about lifestyle and other things can be made.
In each phase, a new variable for the account balance is created, allowing access to previous account balances at a later stage.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">@staticmethod</span>
<span class="go">def vars_for_template(player: Player):</span>
<span class="go">    if player.participant.CSVIncome == 0:</span>
<span class="go">        player.Brutto_Einkommen = 2000</span>
<span class="go">    elif player.participant.CSVIncome == 1:</span>
<span class="go">        player.Brutto_Einkommen = 2850</span>
<span class="go">    elif player.participant.CSVIncome == 2:</span>
<span class="go">        player.Brutto_Einkommen = 5000</span>
</pre></div>
</div>
<p>The net income is derived from the gross income:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">player.Netto_Einkommen = player.Brutto_Einkommen - ((player.Brutto_Einkommen / 100) * 30)</span>
<span class="go">    if player.Netto_Einkommen == 1995:</span>
<span class="go">        player.Netto_Einkommen = 2000</span>
<span class="go">    return {</span>
<span class="go">        &quot;Brutto_Einkommen&quot;: player.Brutto_Einkommen,</span>
<span class="go">        &quot;Netto_Einkommen&quot;: player.Netto_Einkommen</span>
<span class="go">    }</span>
</pre></div>
</div>
<section id="dynamic-decisions">
<h3>Dynamic decisions<a class="headerlink" href="#dynamic-decisions" title="Permalink to this heading"></a></h3>
<p>As a result of the dynamic decisions that can be made within Novaland, the balance changes.
Therefore, all information is consolidated at the end of the last page of an app, resulting in a new variable that can be used in the next app.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">player.participant.NewBancBalance = player.Netto_einkommen - decision1 - decision2 - ...</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="RandomiseValues.html" class="btn btn-neutral float-left" title="Randomise Values for the participant" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="DataRetrievalwithSessionFieldValue.html" class="btn btn-neutral float-right" title="Data Retrieval with Session Field variables" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, University Duisburg.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>